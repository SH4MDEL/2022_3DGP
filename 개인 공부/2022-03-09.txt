카메라 변환(Viewing Transformation)

가상 카메라(Virtual Camera)
- 게임 월드를 보기 위한 가상의 카메라가 필요
- 일반적으로 카메라는 플레이어 캐릭터에 부착되어 있음.
- 카메라 정보
  월드 좌표계에서 카메라의 위치(Position)
  카메라의 방향(Viewing Direction)
  카메라의 화각(FOV(Field of View))

카메라 좌표계(View Space)
- 게임 월드를 카메라를 중심으로 한 상대적인 좌표계로 표현
- 월드를 기준으로 표현된 좌표를 카메라를 기준으로 표현된 좌표로 바꾸자.

카메라의 이동과 회전
- 카메라의 움직임과 화면상의 객체의 움직임은 방향이 반대

카메라 변환
1. 카메라를 월드 좌표계의 원점으로 평행이동. 같은 평행이동을 모든 객체에 적용
2. 카메라 좌표계의 축이 월드 좌표계의 축과 일치하도록 카메라를 회전. 같은 회전을 모든 객체에 적용
3. 객체는 카메라를 중심으로 한 좌표계로 표현됨.


투영 변환(Projection Transformation)
3D 메쉬를 2D 화면에 표현하기 위한 변환
- 3D 메쉬를 2D 화면에 그렸을 때 입체감 또는 거리감을 느끼려면
- 원근감
- 멀리 있는 객체는 작게 그려지고 가까운 객체는 크게 그려진다. (멀고 가까운 것의 기준은 카메라이다.)
- 멀리 있는 객체는 카메라 중심선 근처에 위치한다.

투영 좌표계(Projection Space, Clip-Space)
- 카메라의 중심선을 기준으로 상하좌우를 하나의 좌표계로 표현

2DX = ViewSpaceX / ViewSpaceZ
2DY = ViewSpaceY / ViewSpaceZ
(x, y, z) -> (x/z, y/z)

여기서 화각(FOV)이 90도인 경우 탄젠트는 45도가 되므로 y/z는 1이 된다.
즉 카메라 중심이 (0.0, 0.0)일 때 투영 좌표계는 (-1.0, -1.0), (-1.0, 1.0), (1.0, -1.0), (1.0, 1.0) 사이에서 표현된다.
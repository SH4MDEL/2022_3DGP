렌더 타겟 -> 컬러 출력, 근본적으로 픽셀 셰이더에서 옴.
우리 렌더링의 1차적 목표

이는 깊이검사가 성공했음을 의미 즉
뎁스버퍼에도 기록이 되어 있음.

렌더 타겟의 갱신이 이뤄지지 않더라도
스텐실 버퍼나 깊이 버퍼 둘 중 하나는 갱신이 이뤄질 경우가 생길수 있음.

깊이 검사가 활성화되어있지 않더라도 스텐실 결과가 통과하면 깊이 버퍼는 갱신됨.

깊이 검사와 스텐실 검사가 모두 성공일 때 렌더 타겟 갱신 <- 당연
깊이 검사와 스텐실 검사가 모두 성공일 때 깊이 버퍼 갱신 <- 하나라도 실패(false)면 갱신 안됨.


D3D12_DEPTH_STENCILOP_DESC
인자 1. 스텐실 검사가 실패했을 때 실행할 연산
인자 2. 깊이 검사가 실패하고 스텐실 검사가 성공일 때 실행할 연산
인자 3. 모두 성공일 때 실행할 연산
인자 4. 스텐실 값을 비교하는 함수


스텐실 응용
평면 거울 구현
1. 거울 평면에 반사된 객체를 구함
2. 조명이 있다면 반사된 조명을 구함
3. 반사된 객체를 그림

1. 거울 평면에 반사된 객체를 구함
2. 조명이 있다면 반사된 조명을 구함
3. '거울에만' 그려지도록 스텐실을 설정
4. 반사된 객체를 그림

1. 거울을 제외한 객체들을 렌더 타겟에 렌더링
   깊이 검사를 활성화하고 깊이 버퍼를 변경하도록 설정
   스텐실 검사를 수행하지 않음.
2. 스텐실 버퍼를 초기화하고 거울을 스텐실 버퍼에 렌더링
   깊이 검사와 스텐실 검사(항상 성공)을 수행
   깊이 버퍼와 렌더 타겟은 변경하지 않고 스텐실 버퍼만 변경
3. 반사된 객체를 렌더 타겟에 렌더링
   깊이 검사와 스텐실 검사(스텐실 값이 1일 때 성공)를 수행
   거울에 반사된 객체를 그림(와인딩 오더를 바꿔야 함)
4. 거울을 렌더링(블렌딩)

거울을 그리기 위해 파이프라인 스테이트 4개가 필요함.
거울을 스텐실로 그리기 위한 셰이더
반사된 객체를 그리기 위한 셰이더
거울을 그리기 위한 셰이더
거울 뒷면을 그리기 위한 셰이더


월드 좌표계로 표현된 좌표에 그저 반사 행렬을 곱하여 렌더하면 된다
거울 세계에 메시를 따로 그릴 필요가 없다.
그러면 스텐실 검사를 통과한 지역(즉 거울 영역)에만 반사된 객체가 렌더될 것이다.